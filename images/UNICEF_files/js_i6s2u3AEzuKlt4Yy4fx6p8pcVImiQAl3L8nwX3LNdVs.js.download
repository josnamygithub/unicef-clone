(function($,Drupal,drupalSettings){"use strict";Drupal.behaviors.advancedHero={attach:function(context,settings){$(context).ready(function(){var hero=document.querySelector(".has-hero");if(hero){var advancedHero=hero.querySelector(".unicef-advanced-hero"),heroWithAudio=hero.querySelector(".audio-component-layout"),langToggle=document.querySelector(".in-page-lang"),publicationDate=document.querySelector(".node--publication-date");if(advancedHero||heroWithAudio)if(langToggle||publicationDate)hero.classList.add("space");if(advancedHero){gsap.registerPlugin(ScrollTrigger);var image=advancedHero.querySelector(".hero-image"),title=advancedHero.querySelector(".title-data-cntr"),titleContainer=title.parentElement,video=advancedHero.querySelector("video"),playIcon=advancedHero.querySelector(".play-icon"),navbar=document.querySelector("#navbar");$(advancedHero).css("display","flex");$(advancedHero.parentNode).css("paddingBottom",0.1);if(video){var isPaused=false;video.setAttribute("playsinline",true);$(video).click(function(){if(isPaused){video.play();$(playIcon).css("display","none");isPaused=false}else{video.pause();$(playIcon).css("display","block");isPaused=true}})};const timeline=gsap.timeline({scrollTrigger:{trigger:advancedHero,scrub:1,start:1,end:navbar.clientHeight}});ScrollTrigger.matchMedia({"(min-width: 768px)":function(){var marginBottom=title.clientHeight-50;$(advancedHero).css("marginBottom",marginBottom);gsap.to(titleContainer,{opacity:1,marginTop:-150,duration:2});timeline.to(titleContainer,{marginTop:marginBottom},"hero").to(image,{borderWidth:0},"hero")},"(max-width: 767px)":function(){var marginBottom=title.clientHeight-25;$(advancedHero).css("marginBottom",marginBottom);$(titleContainer).css("marginTop",marginBottom);timeline.to(image,{borderWidth:0})}})}}})}}})(jQuery,Drupal,drupalSettings);
